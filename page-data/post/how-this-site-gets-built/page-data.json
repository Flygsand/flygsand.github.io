{"componentChunkName":"component---src-templates-post-js","path":"/post/how-this-site-gets-built","result":{"data":{"site":{"siteMetadata":{"repo":"kvadevack/site","social":{"twitter":"kvadevack","github":"kvadevack"}}},"markdownRemark":{"html":"<p>It's been <a href=\"http://web.archive.org/web/20100212123437/http://freeasinbeard.org/\" target=\"_self\" rel=\"nofollow noopener noreferrer\">about ten years</a> since last I ran a blog.\nThe technological landscape has shifted a lot during those ten years, particularly in the web app space. We now have\ncool things like <a href=\"https://reactjs.org\" target=\"_self\" rel=\"nofollow noopener noreferrer\">React</a>, <a href=\"https://graphql.org\" target=\"_self\" rel=\"nofollow noopener noreferrer\">GraphQL</a>, <a href=\"https://letsencrypt.org\" target=\"_self\" rel=\"nofollow noopener noreferrer\">Let's Encrypt</a>,\n<a href=\"https://www.docker.com\" target=\"_self\" rel=\"nofollow noopener noreferrer\">Docker</a>, and a mature <a href=\"https://nodejs.org\" target=\"_self\" rel=\"nofollow noopener noreferrer\">Node.js</a> ecosystem. Back then I was doing most of\nmy web development in Ruby and Python. In this post, I'd like to illustrate how this site is put together.<!-- jump --></p>\n<h3>The wonderful world of static site generation</h3>\n<p>The document you're viewing right now is served by GitHub. It's fully static content, generated at deploy time on\n<a href=\"https://travis-ci.org/\" target=\"_self\" rel=\"nofollow noopener noreferrer\">Travis CI</a>. New releases are created semantically and deployed automatically, roughly\naccording to the following flow:</p>\n<div class=\"remark-draw remark-draw-mermaid\"><svg id=\"mermaid-1591664589709\" width=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" style=\"max-width: 501.2351531982422px;\" viewBox=\"0 0 501.2351531982422 1105.3656158447266\"><style>#mermaid-1591664589709 .label{font-family:trebuchet ms,verdana,arial;color:#333}#mermaid-1591664589709 .node circle,#mermaid-1591664589709 .node ellipse,#mermaid-1591664589709 .node polygon,#mermaid-1591664589709 .node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}#mermaid-1591664589709 .node.clickable{cursor:pointer}#mermaid-1591664589709 .arrowheadPath{fill:green}#mermaid-1591664589709 .edgePath .path{stroke:green;stroke-width:1.5px}#mermaid-1591664589709 .edgeLabel{background-color:#e8e8e8}#mermaid-1591664589709 .cluster rect{fill:#cdffb2!important;stroke:#6eaa49!important;stroke-width:1px!important}#mermaid-1591664589709 .cluster text{fill:#333}#mermaid-1591664589709 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:trebuchet ms,verdana,arial;font-size:12px;background:#cdffb2;border:1px solid #6eaa49;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1591664589709 .actor{stroke:#13540c;fill:#cde498}#mermaid-1591664589709 text.actor{fill:#000;stroke:none}#mermaid-1591664589709 .actor-line{stroke:grey}#mermaid-1591664589709 .messageLine0{marker-end:\"url(#arrowhead)\"}#mermaid-1591664589709 .messageLine0,#mermaid-1591664589709 .messageLine1{stroke-width:1.5;stroke-dasharray:\"2 2\";stroke:#333}#mermaid-1591664589709 #arrowhead{fill:#333}#mermaid-1591664589709 #crosshead path{fill:#333!important;stroke:#333!important}#mermaid-1591664589709 .messageText{fill:#333;stroke:none}#mermaid-1591664589709 .labelBox{stroke:#326932;fill:#cde498}#mermaid-1591664589709 .labelText,#mermaid-1591664589709 .loopText{fill:#000;stroke:none}#mermaid-1591664589709 .loopLine{stroke-width:2;stroke-dasharray:\"2 2\";marker-end:\"url(#arrowhead)\";stroke:#326932}#mermaid-1591664589709 .note{stroke:#6eaa49;fill:#fff5ad}#mermaid-1591664589709 .noteText{fill:#000;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:14px}#mermaid-1591664589709 .section{stroke:none;opacity:.2}#mermaid-1591664589709 .section0,#mermaid-1591664589709 .section2{fill:#6eaa49}#mermaid-1591664589709 .section1,#mermaid-1591664589709 .section3{fill:#fff;opacity:.2}#mermaid-1591664589709 .sectionTitle0,#mermaid-1591664589709 .sectionTitle1,#mermaid-1591664589709 .sectionTitle2,#mermaid-1591664589709 .sectionTitle3{fill:#333}#mermaid-1591664589709 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px}#mermaid-1591664589709 .grid .tick{stroke:#d3d3d3;opacity:.3;shape-rendering:crispEdges}#mermaid-1591664589709 .grid path{stroke-width:0}#mermaid-1591664589709 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1591664589709 .task{stroke-width:2}#mermaid-1591664589709 .taskText{text-anchor:middle;font-size:11px}#mermaid-1591664589709 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}#mermaid-1591664589709 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1591664589709 .taskText0,#mermaid-1591664589709 .taskText1,#mermaid-1591664589709 .taskText2,#mermaid-1591664589709 .taskText3{fill:#fff}#mermaid-1591664589709 .task0,#mermaid-1591664589709 .task1,#mermaid-1591664589709 .task2,#mermaid-1591664589709 .task3{fill:#487e3a;stroke:#13540c}#mermaid-1591664589709 .taskTextOutside0,#mermaid-1591664589709 .taskTextOutside1,#mermaid-1591664589709 .taskTextOutside2,#mermaid-1591664589709 .taskTextOutside3{fill:#000}#mermaid-1591664589709 .active0,#mermaid-1591664589709 .active1,#mermaid-1591664589709 .active2,#mermaid-1591664589709 .active3{fill:#cde498;stroke:#13540c}#mermaid-1591664589709 .activeText0,#mermaid-1591664589709 .activeText1,#mermaid-1591664589709 .activeText2,#mermaid-1591664589709 .activeText3{fill:#000!important}#mermaid-1591664589709 .done0,#mermaid-1591664589709 .done1,#mermaid-1591664589709 .done2,#mermaid-1591664589709 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1591664589709 .doneText0,#mermaid-1591664589709 .doneText1,#mermaid-1591664589709 .doneText2,#mermaid-1591664589709 .doneText3{fill:#000!important}#mermaid-1591664589709 .crit0,#mermaid-1591664589709 .crit1,#mermaid-1591664589709 .crit2,#mermaid-1591664589709 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1591664589709 .activeCrit0,#mermaid-1591664589709 .activeCrit1,#mermaid-1591664589709 .activeCrit2,#mermaid-1591664589709 .activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}#mermaid-1591664589709 .doneCrit0,#mermaid-1591664589709 .doneCrit1,#mermaid-1591664589709 .doneCrit2,#mermaid-1591664589709 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1591664589709 .activeCritText0,#mermaid-1591664589709 .activeCritText1,#mermaid-1591664589709 .activeCritText2,#mermaid-1591664589709 .activeCritText3,#mermaid-1591664589709 .doneCritText0,#mermaid-1591664589709 .doneCritText1,#mermaid-1591664589709 .doneCritText2,#mermaid-1591664589709 .doneCritText3{fill:#000!important}#mermaid-1591664589709 .titleText{text-anchor:middle;font-size:18px;fill:#000}#mermaid-1591664589709 g.classGroup text{fill:#13540c;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:10px}#mermaid-1591664589709 g.classGroup rect{fill:#cde498;stroke:#13540c}#mermaid-1591664589709 g.classGroup line{stroke:#13540c;stroke-width:1}#mermaid-1591664589709 .classLabel .box{stroke:none;stroke-width:0;fill:#cde498;opacity:.5}#mermaid-1591664589709 .classLabel .label{fill:#13540c;font-size:10px}#mermaid-1591664589709 .relation{stroke:#13540c;stroke-width:1;fill:none}#mermaid-1591664589709 #compositionEnd,#mermaid-1591664589709 #compositionStart{fill:#13540c;stroke:#13540c;stroke-width:1}#mermaid-1591664589709 #aggregationEnd,#mermaid-1591664589709 #aggregationStart{fill:#cde498;stroke:#13540c;stroke-width:1}#mermaid-1591664589709 #dependencyEnd,#mermaid-1591664589709 #dependencyStart,#mermaid-1591664589709 #extensionEnd,#mermaid-1591664589709 #extensionStart{fill:#13540c;stroke:#13540c;stroke-width:1}#mermaid-1591664589709 .branch-label,#mermaid-1591664589709 .commit-id,#mermaid-1591664589709 .commit-msg{fill:#d3d3d3;color:#d3d3d3}</style><style>#mermaid-1591664589709 {\n    color: rgb(0, 0, 0);\n    font: 16px \"Times New Roman\";\n  }</style><g transform=\"translate(-12, -12)\"><g class=\"output\"><g class=\"clusters\"></g><g class=\"edgePaths\"><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M180.7523422241211,58L180.7523422241211,83L180.7523422241211,108\" marker-end=\"url(#arrowhead48)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead48\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M180.7523422241211,146L180.7523422241211,171L181.25234222412112,196.50000152587896\" marker-end=\"url(#arrowhead49)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead49\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M150.40116471453015,286.68475846453015L82.4609375,351.0359344482422L82.4609375,450.1578063964844\" marker-end=\"url(#arrowhead50)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead50\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M212.10352128945362,286.68475996054633L279.0437469482422,351.0359344482422L279.5437469482422,385.53593749999993\" marker-end=\"url(#arrowhead51)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead51\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M234.74069078918836,508.9766252374304L144.4460906982422,587.2796783447266L144.4460906982422,724.3226470947266L144.4460906982422,861.3656158447266L153.99856711333652,895.3656158447266\" marker-end=\"url(#arrowhead52)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead52\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M317.89956702682633,515.4238674214157L378.0398406982422,587.2796783447266L378.5398406982422,621.7796783447266\" marker-end=\"url(#arrowhead53)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead53\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M330.49712256679516,779.8228977132795L258.3328094482422,861.3656158447266L194.82588138220444,895.3656158447266\" marker-end=\"url(#arrowhead54)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead54\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M392.0679778856261,814.3374786573427L398.7507781982422,861.3656158447266L398.7507781982422,895.3656158447266\" marker-end=\"url(#arrowhead55)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead55\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M398.7507781982422,933.3656158447266L398.7507781982422,958.3656158447266L398.7507781982422,983.3656158447266\" marker-end=\"url(#arrowhead56)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead56\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g><g class=\"edgePath\" style=\"opacity: 1;\"><path class=\"path\" d=\"M398.7507781982422,1021.3656158447266L398.7507781982422,1046.3656158447266L398.7507781982422,1071.3656158447266\" marker-end=\"url(#arrowhead57)\" style=\"fill:none\"></path><defs><marker id=\"arrowhead57\" viewBox=\"0 0 10 10\" refX=\"9\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"6\" orient=\"auto\"><path d=\"M 0 0 L 10 5 L 0 10 z\" class=\"arrowheadPath\" style=\"stroke-width: 1; stroke-dasharray: 1, 0;\"></path></marker></defs></g></g><g class=\"edgeLabels\"><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"translate(82.4609375,351.0359344482422)\"><g transform=\"translate(-9.78125,-9)\" class=\"label\"><foreignObject width=\"19.5625\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\">No</span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"translate(279.0437469482422,351.0359344482422)\"><g transform=\"translate(-11.640625,-9)\" class=\"label\"><foreignObject width=\"23.28125\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\">Yes</span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"translate(144.4460906982422,724.3226470947266)\"><g transform=\"translate(-9.78125,-9)\" class=\"label\"><foreignObject width=\"19.5625\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\">No</span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"translate(378.0398406982422,587.2796783447266)\"><g transform=\"translate(-11.640625,-9)\" class=\"label\"><foreignObject width=\"23.28125\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\">Yes</span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"translate(258.3328094482422,861.3656158447266)\"><g transform=\"translate(-9.78125,-9)\" class=\"label\"><foreignObject width=\"19.5625\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\">No</span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"translate(398.7507781982422,861.3656158447266)\"><g transform=\"translate(-11.640625,-9)\" class=\"label\"><foreignObject width=\"23.28125\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\">Yes</span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\" style=\"opacity: 1;\" transform=\"\"><g transform=\"translate(0,0)\" class=\"label\"><foreignObject width=\"0\" height=\"0\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g class=\"node\" id=\"start\" transform=\"translate(180.7523422241211,39)\" style=\"opacity: 1;\"><rect rx=\"5\" ry=\"5\" x=\"-82.046875\" y=\"-19\" width=\"164.09375\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-72.046875,-9)\"><foreignObject width=\"144.09375\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">New code is pushed</div></foreignObject></g></g></g><g class=\"node\" id=\"runtests\" transform=\"translate(180.7523422241211,127)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-43.796875\" y=\"-19\" width=\"87.59375\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-33.796875,-9)\"><foreignObject width=\"67.59375\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Run tests</div></foreignObject></g></g></g><g class=\"node\" id=\"testspass\" transform=\"translate(180.7523422241211,256.5179672241211)\" style=\"opacity: 1;\"><polygon points=\"60.51796875,0 121.0359375,-60.51796875 60.51796875,-121.0359375 0,-60.51796875\" rx=\"5\" ry=\"5\" transform=\"translate(-60.51796875,60.51796875)\"></polygon><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-38.2421875,-9)\"><foreignObject width=\"76.484375\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Test pass?</div></foreignObject></g></g></g><g class=\"node\" id=\"fail\" transform=\"translate(82.4609375,469.1578063964844)\" style=\"opacity: 1;\"><rect rx=\"5\" ry=\"5\" x=\"-62.4609375\" y=\"-19\" width=\"124.921875\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-52.4609375,-9)\"><foreignObject width=\"104.921875\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Mark as failure</div></foreignObject></g></g></g><g class=\"node\" id=\"ismaster\" transform=\"translate(279.0437469482422,469.1578063964844)\" style=\"opacity: 1;\"><polygon points=\"84.121875,0 168.24375,-84.121875 84.121875,-168.24375 0,-84.121875\" rx=\"5\" ry=\"5\" transform=\"translate(-84.121875,84.121875)\"></polygon><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-64.46875,-9)\"><foreignObject width=\"128.9375\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Branch is master?</div></foreignObject></g></g></g><g class=\"node\" id=\"successNoRelease\" transform=\"translate(159.3367156982422,914.3656158447266)\" style=\"opacity: 1;\"><rect rx=\"5\" ry=\"5\" x=\"-122.4921875\" y=\"-19\" width=\"244.984375\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-112.4921875,-9)\"><foreignObject width=\"224.984375\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Mark as successful non-release</div></foreignObject></g></g></g><g class=\"node\" id=\"shouldRelease\" transform=\"translate(378.0398406982422,724.3226470947266)\" style=\"opacity: 1;\"><polygon points=\"103.04296875,0 206.0859375,-103.04296875 103.04296875,-206.0859375 0,-103.04296875\" rx=\"5\" ry=\"5\" transform=\"translate(-103.04296875,103.04296875)\"></polygon><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-76.4921875,-18)\"><foreignObject width=\"152.984375\" height=\"36\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Branch contains new <br>commits to release?</div></foreignObject></g></g></g><g class=\"node\" id=\"prepareRelease\" transform=\"translate(398.7507781982422,914.3656158447266)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-66.921875\" y=\"-19\" width=\"133.84375\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-56.921875,-9)\"><foreignObject width=\"113.84375\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Prepare release</div></foreignObject></g></g></g><g class=\"node\" id=\"deploy\" transform=\"translate(398.7507781982422,1002.3656158447266)\" style=\"opacity: 1;\"><rect rx=\"0\" ry=\"0\" x=\"-34.90625\" y=\"-19\" width=\"69.8125\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-24.90625,-9)\"><foreignObject width=\"49.8125\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Deploy</div></foreignObject></g></g></g><g class=\"node\" id=\"successRelease\" transform=\"translate(398.7507781982422,1090.3656158447266)\" style=\"opacity: 1;\"><rect rx=\"5\" ry=\"5\" x=\"-106.484375\" y=\"-19\" width=\"212.96875\" height=\"38\"></rect><g class=\"label\" transform=\"translate(0,0)\"><g transform=\"translate(-96.484375,-9)\"><foreignObject width=\"192.96875\" height=\"18\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: inline-block; white-space: nowrap;\">Mark as successful release</div></foreignObject></g></g></g></g></g></g></svg></div>\n<p>Releases are created by analyzing the messages of commits added to the master branch. Messages are parsed as\n<a href=\"https://www.conventionalcommits.org\" target=\"_self\" rel=\"nofollow noopener noreferrer\">Conventional Commits</a>, which are structured as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;type&gt;[optional scope]: &lt;description&gt;\n\n[optional body]\n\n[optional footer]</code></pre></div>\n<p>If the commit log contains one or more commits with a <code class=\"language-text\">type</code> of <code class=\"language-text\">fix</code> or <code class=\"language-text\">feat</code>, or a <code class=\"language-text\">footer</code> containing the phrase\n<code class=\"language-text\">BREAKING CHANGE</code>, a new release is created. The version number is bumped accordingly in a semantic fashion:\n<code class=\"language-text\">BREAKING CHANGE</code>s lead to a new major version (site redesigns), <code class=\"language-text\">feat</code>s (new content or features) lead to a new minor\nversion, and <code class=\"language-text\">fix</code>es (content updates or bug fixes) to a new minor version. <code class=\"language-text\">scope</code> and <code class=\"language-text\">description</code> are used to\ngenerate a changelog.</p>\n<h3>The beauty of GraphQL</h3>\n<p>GraphQL is an incredibly powerful query language, which can be used to fetch data from local files, web APIs, and\neverything in between. I'm currently using it to query Markdown documents and assets from disk, for example to generate\nthe blog's index like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\">allMarkdownRemark<span class=\"token punctuation\">(</span><span class=\"token attr-name\">sort</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">fields</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>frontmatter___date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">order</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">DESC</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tedges <span class=\"token punctuation\">{</span>\n\t\tnode <span class=\"token punctuation\">{</span>\n\t\t\tfields <span class=\"token punctuation\">{</span>\n\t\t\t\tslug\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>However, it would be trivial to for instance pull photos off of Instagram into the site feed by simply dropping in a\nnew data source and altering the query. From the above query, I generate one page per post and then one index\npage per five posts for pagination. In the future, I might create tag-based index pages as well. The pages themselves\nquery deeper for the rendered Markdown and metadata.</p>","frontmatter":{"title":"How This Site Gets Built","date":"August 17th 2019"}}},"pageContext":{"slug":"how-this-site-gets-built","previous":{"fields":{"slug":"wrapping-c-libraries-with-smart-pointers"}},"next":null,"hasExample":false}}}